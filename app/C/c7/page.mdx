# WskaÅºniki

WskaÅºniki to jeden z najwaÅ¼niejszych i najbardziej charakterystycznych elementÃ³w
jÄ™zyka C. NajproÅ›ciej mÃ³wiÄ…c: **wskaÅºnik to zmienna, ktÃ³ra przechowuje adres
innej zmiennej**, a nie jej wartoÅ›Ä‡.

KaÅ¼da zmienna w programie ma swoje miejsce w pamiÄ™ci â€” **adres**. WskaÅºniki
pozwalajÄ… ten adres zapisaÄ‡, przekazaÄ‡ i uÅ¼ywaÄ‡ do odczytu/modyfikacji danych.

---

## Kluczowe informacje o wskaÅºnikach

- WskaÅºnik przechowuje **adres**, nie wartoÅ›Ä‡.
- Typ wskaÅºnika okreÅ›la, **na jaki typ danych wskazuje**, np.

- `int *` â†’ wskaÅºnik na `int`
- `char *` â†’ wskaÅºnik na `char`
- Operator `&` pobiera **adres** zmiennej.
- Operator `*` wykonuje **dereferencjÄ™**, czyli odczyt lub zapis wartoÅ›ci
  znajdujÄ…cej siÄ™ pod danym adresem.

---

## Najprostszy przykÅ‚ad

```c
int x = 10;
int *ptr = &x;   // ptr przechowuje adres zmiennej x

printf("%d\n", x);     // wartoÅ›Ä‡ zmiennej
printf("%p\n", ptr);   // adres zmiennej x
printf("%d\n", *ptr);  // dereferencja â€” wartoÅ›Ä‡ pod adresem
```

---

## WyjaÅ›nienie â€po ludzkuâ€

Zmienna:

```c
int x = 10;
```

ma swÃ³j adres w pamiÄ™ci, np.:

```
0x7ffc12a4b9c8
```

JeÅ›li chcemy go pobraÄ‡:

```c
printf("%p\n", &x);
```

Ten adres moÅ¼emy zapisaÄ‡ w zmiennej typu _wskaÅºnik_:

```c
int *ptr = &x;
```

W tym momencie:

- `ptr` to adres `x`
- `*ptr` to wartoÅ›Ä‡ **x**

---

## Dereferencja â€“ odczyt i zapis

```c
int x = 10;
int *ptr = &x;

printf("%d", *ptr); // 10

*ptr = 20;          // zmienia wartoÅ›Ä‡ x!
printf("%d", x);    // 20
```

### Uwaga na dwuznacznoÅ›Ä‡ `*`

- **w deklaracji**: `int *ptr` â†’ tworzymy wskaÅºnik
- **poza deklaracjÄ…**: `*ptr` â†’ dereferencja

---

# ğŸ“Œ Przekazywanie danych przez wskaÅºniki do funkcji

To kluczowe zastosowanie wskaÅºnikÃ³w.

### ZwykÅ‚e przekazywanie (przez wartoÅ›Ä‡):

```c
void fun(int x) { x = 5; }
```

Zmiana dotyczy tylko kopii â€” oryginalna zmienna siÄ™ nie zmienia.

### Przekazywanie przez adres:

```c
void ustawNa5(int *wsk) {
    *wsk = 5;
}

int main() {
    int x = 10;
    ustawNa5(&x);
    printf("%d", x); // 5
}
```

Teraz funkcja **zmieniÅ‚a oryginalnÄ… zmiennÄ…**, bo dostaÅ‚a jej adres.

---

# ğŸ“Œ WskaÅºniki a tablice

W C nazwa tablicy to **staÅ‚y wskaÅºnik** do pierwszego elementu.

```c
int tab[5] = {1, 2, 3, 4, 5};
int *p = tab;   // to samo co &tab[0]
```

MoÅ¼emy dereferencjonowaÄ‡ tablicÄ™ jak wskaÅºnik:

```c
printf("%d", *tab);     // 1
printf("%d", *(tab+1)); // 2
printf("%d", tab[1]);   // 2
```

Tablica i wskaÅºnik nie sÄ… identyczne, ale czÄ™sto dziaÅ‚ajÄ… podobnie.

---

# ğŸ”¥ **Przesuwanie wskaÅºnikÃ³w (pointer arithmetic)**

To jedna z najpotÄ™Å¼niejszych i najbardziej nieoczywistych funkcji wskaÅºnikÃ³w.

W C moÅ¼na wykonywaÄ‡ operacje arytmetyczne na wskaÅºnikach:

- `ptr + 1`
- `ptr - 1`
- `ptr += 1`

### NajwaÅ¼niejsze:

ğŸ“Œ **przesuniÄ™cie o 1 przesuwa wskaÅºnik o rozmiar typu**, na ktÃ³ry wskazuje (np.
int â†’ zwykle 4 bajty)

---

## PrzykÅ‚ad

```c
int tab[] = {10, 20, 30, 40};
int *p = tab;   // adres tab[0]

p++;            // teraz wskazuje na tab[1]

printf("%d\n", *p);  // 20
```

`p++` nie dodaje 1 bajtu â€” **dodaje jeden element typu int**.

---

## DostÄ™p do tablicy dziÄ™ki pointer arithmetic

```c
int tab[] = {5, 10, 15, 20};
int *p = tab;

printf("%d\n", *(p+2)); // 15
printf("%d\n", p[2]);   // 15 (to samo!)
```

Indeksowanie `p[i]` jest rÃ³wnowaÅ¼ne:

```
*(p + i)
```

---

## Przesuwanie wskaÅºnika w pÄ™tli

```c
int tab[] = {3, 6, 9, 12};
int *p = tab;

for(int i = 0; i < 4; i++) {
    printf("%d ", *(p + i));
}
```

Lub:

```c
for(int *p = tab; p < tab + 4; p++) {
    printf("%d ", *p);
}
```

To klasyczna technika w C.

---

# ğŸ“Œ WskaÅºniki i `scanf()`

`scanf()` **zawsze oczekuje adresu**, nie wartoÅ›ci.

Dlatego:

```c
int x;
scanf("%d", &x);
```

A nie:

```c
scanf("%d", x); // BÅÄ„D
```

---

# ğŸ“Œ WskaÅºniki jako argumenty funkcji â€œdo zmiany danychâ€

Bardzo czÄ™sty, egzaminowy przykÅ‚ad:

```c
void zamien(int *a, int *b) {
    int t = *a;
    *a = *b;
    *b = t;
}

int main() {
    int x = 5, y = 10;
    zamien(&x, &y);
    printf("%d %d", x, y); // 10 5
}
```
